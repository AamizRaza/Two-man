<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thai Consonant Drill</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; background: #f0f2f5; }
        #game-container { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-top: 50px; text-align: center; width: 350px; }
        .stats { display: flex; justify-content: space-between; width: 100%; margin-bottom: 20px; font-weight: bold; }
        #hearts { color: #ff4d4d; font-size: 1.2rem; }
        #consonant-display { font-size: 5rem; margin: 20px 0; color: #1a73e8; }
        .choices { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { padding: 15px; font-size: 1.1rem; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; transition: 0.2s; }
        button:hover { background: #e8f0fe; }
        .feedback { margin-top: 15px; height: 20px; font-weight: bold; }
        .hidden { display: none; }
        #game-over { color: #d93025; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats">
        <div>Hearts: <span id="hearts">❤️❤️❤️</span></div>
        <div>Score: <span id="score">0</span></div>
    </div>

    <div id="quiz-area">
        <div id="consonant-display">?</div>
        <div class="choices" id="choices-grid"></div>
        <div class="feedback" id="feedback"></div>
    </div>

    <div id="game-over" class="hidden">
        <h1>GAME OVER</h1>
        <p>Final Score: <span id="final-score">0</span></p>
        <button onclick="resetGame()">Try Again</button>
    </div>
</div>

<script>
    const thaiConsonants = [
        { char: "ก", read: "Ko Kai" }, { char: "ข", read: "Kho Khai" }, { char: "ฃ", read: "Kho Khuat" },
        { char: "ค", read: "Kho Khway" }, { char: "ฅ", read: "Kho Khon" }, { char: "ฆ", read: "Kho Rakhang" },
        { char: "ง", read: "Ngo Ngu" }, { char: "จ", read: "Cho Chan" }, { char: "ฉ", read: "Cho Ching" },
        { char: "ช", read: "Cho Chang" }, { char: "ซ", read: "So So" }, { char: "ฌ", read: "Cho Choe" },
        { char: "ญ", read: "Yo Ying" }, { char: "ฎ", read: "Do Chada" }, { char: "ฏ", read: "To Patak" },
        { char: "ฐ", read: "Tho Than" }, { char: "ฑ", read: "Tho Montho" }, { char: "ฒ", read: "Tho Phuthao" },
        { char: "ณ", read: "No Nen" }, { char: "ด", read: "Do Dek" }, { char: "ต", read: "To Tao" },
        { char: "ถ", read: "Tho Thung" }, { char: "ท", read: "Tho Thahan" }, { char: "ธ", read: "Tho Thong" },
        { char: "น", read: "No Nu" }, { char: "บ", read: "Bo Baimai" }, { char: "ป", read: "Po Pla" },
        { char: "ผ", read: "Pho Phueng" }, { char: "ฝ", read: "Fo Fa" }, { char: "พ", read: "Pho Phan" },
        { char: "ฟ", read: "Fo Fan" }, { char: "ภ", read: "Pho Samphao" }, { char: "ม", read: "Mo Ma" },
        { char: "ย", read: "Yo Yak" }, { char: "ร", read: "Ro Ruea" }, { char: "ล", read: "Lo Ling" },
        { char: "ว", read: "Wo Waen" }, { char: "ศ", read: "So Sala" }, { char: "ษ", read: "So Rusi" },
        { char: "ส", read: "So Suea" }, { char: "ห", read: "Ho Hip" }, { char: "ฬ", read: "Lo Chula" },
        { char: "อ", read: "O Ang" }, { char: "ฮ", read: "Ho Nok-huk" }
    ];

    let hearts = 3;
    let score = 0;
    let currentTarget = {};

    function initRound() {
        if (hearts <= 0) return showGameOver();
        
        const feedback = document.getElementById('feedback');
        feedback.innerText = "";
        
        // Pick random consonant
        currentTarget = thaiConsonants[Math.floor(Math.random() * thaiConsonants.length)];
        document.getElementById('consonant-display').innerText = currentTarget.char;

        // Generate choices
        let choices = [currentTarget];
        while (choices.length < 4) {
            let randomItem = thaiConsonants[Math.floor(Math.random() * thaiConsonants.length)];
            if (!choices.includes(randomItem)) choices.push(randomItem);
        }
        choices.sort(() => Math.random() - 0.5);

        const grid = document.getElementById('choices-grid');
        grid.innerHTML = "";
        choices.forEach(choice => {
            const btn = document.createElement('button');
            btn.innerText = choice.read;
            btn.
